# Yandex.Content

Класс для организации автоматической загрузки новостей в Яндекс.Вебмастер

### Класс YandexContent предоставляет простой API:

постинг текста на яндекс и связь его с заданным сайтом:
```php
postArticle($text, $site_name)
```

Вернуть список ваших сайтов. в случае, если необязательный параметр равен true, возвращаются только доступные для постинга текстов сайты
```php
getSiteList($only_approved = true)
```

Работа строится из следующих телодвижений
-- 1. создать объект YandexContent, передав в конструктор ваш логин и пароль на яндексе. Необязательный третий параметр указывает, нужно ли использовать постоянную сессию (true) или нужно очистить сессию по окончании работы (false):
```php
$YC = new YandexContent('login', 'passwd', true);
```

-- 2. запостить текст
```php
$YC->postArticle($text, $site_name);
```

Теперь, если в браузере пройти в интерфейс и открыть Яндекс.Вебмастер - <Имя сайта> - Оригинальные тексты, то вероятно можно увидеть добавленные через класс тексты
при необходимости, можно использовать методы:

```php
setInputEncoding($enc)          // установить кодировку с вашей стороны (если автоопределение работает неверно)
setCurlCookieFilename($file)    // установить путь к curl-cookie-файлу (иначе делается автоматически)
isLoggedIn()                    // возвращает true, если авторизация на яндексе актуальна
getArticleList($site_name)      // возвращает список запощенных текстов для данного сайта
getError(),getErrno()           // доступ к ошибкам
```
